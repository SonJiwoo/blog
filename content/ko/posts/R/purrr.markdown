---
collapsible: false
date: "2021-02-21T10:08:56+09:00"
description: null
draft: false
title: purrr
weight: 2
---

# purrr 패키지 훑어보기
purrr는 R에서 깔끔하게 반복 작업 처리하는 패키지입니다. Purrr 을 이용하면 반복작업을 Apply family 에 비해 더욱 직관적이고 쉽게 할 수 있습니다. purrr는 고양이 울음소리와 R의 합성어로, 로고는 아래와 같습니다.

```r
library(purrr)
```
![purrr logo](images/posts/r/purrr.jpg)

## 목차
1. map, map2
2. pmap, invoke_map

---

#### map, map2

```r
num <- c(1,2,4,5,7)
num2 <- c(3,5,6,8,9)

#list
map(num, function(x){x^2})
```

```
## [[1]]
## [1] 1
## 
## [[2]]
## [1] 4
## 
## [[3]]
## [1] 16
## 
## [[4]]
## [1] 25
## 
## [[5]]
## [1] 49
```

```r
map2(num, num2, sum)
```

```
## [[1]]
## [1] 4
## 
## [[2]]
## [1] 7
## 
## [[3]]
## [1] 10
## 
## [[4]]
## [1] 13
## 
## [[5]]
## [1] 16
```

```r
#numeric vector
map_dbl(num, function(x){x^2})
```

```
## [1]  1  4 16 25 49
```

```r
map2_dbl(num, num2, sum)
```

```
## [1]  4  7 10 13 16
```

---

#### pmap, invoke_map

```r
x <- list(3, 6, 9)
y <- list(10, 21, 30)
z <- list(100, 200, 300)

# pmap은 3개 이상의 리스트일 때 사용한다.
pmap(list(x, y, z), sum)
```

```
## [[1]]
## [1] 113
## 
## [[2]]
## [1] 227
## 
## [[3]]
## [1] 339
```

```r
# invoke_map은 각각의 리스트에 다른 함수를 적용시키고 싶을 때 활용한다.
invoke_map(list(runif, rnorm), list(list(n = 10), list(n = 5)))
```

```
## [[1]]
##  [1] 0.4566772 0.1235837 0.8953966 0.3986301 0.1283086 0.3315504 0.1810836
##  [8] 0.1123422 0.2203584 0.7650463
## 
## [[2]]
## [1]  0.46695555  0.97514536 -0.37227734  0.91107754 -0.08934382
```
